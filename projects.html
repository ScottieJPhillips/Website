<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Projects</title>
  <link rel="stylesheet" href="styles.css" />
  <style>
    #viewer {
      width: 100%;
      height: 600px;
      margin-top: 1rem;
    }
  </style>
</head>
<body>
  <header>
    <h1>Projects</h1>
    <nav>
      <a href="index.html">Home</a> |
      <a href="resume.html">Resume</a> |
      <a href="projects.html">Projects</a>
    </nav>
  </header>

  <main>
    <h2>3D Model Viewer</h2>
    <div id="viewer"></div>
  </main>

  <footer>
    <p>My info</p>
    <nav>
      <a target="_blank" rel="noopener noreferrer" href="mailto:scjphill@ucsc.edu">scjphill@ucsc.edu</a> |
      <a target="_blank" rel="noopener noreferrer" href="https://github.com/ScottieJPhillips">Github</a> |
      <a target="_blank" rel="noopener noreferrer" href="https://www.linkedin.com/in/scott-phillips-438583176/">LinkedIn</a>
    </nav>
  </footer>

<script type="module">
  import * as THREE from 'https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.module.js';
  import { OrbitControls } from 'https://cdn.jsdelivr.net/npm/three@0.160.0/examples/jsm/controls/OrbitControls.js';
  import { STLLoader } from 'https://cdn.jsdelivr.net/npm/three@0.160.0/examples/jsm/loaders/STLLoader.js';

  const scene = new THREE.Scene();
  const camera = new THREE.PerspectiveCamera(75, window.innerWidth / 600, 0.1, 1000);
  camera.position.z = 100;

  const renderer = new THREE.WebGLRenderer({ antialias: true });
  renderer.setSize(window.innerWidth, 600);
  document.getElementById("viewer").appendChild(renderer.domElement);

  const controls = new OrbitControls(camera, renderer.domElement);
  controls.enableDamping = true;

  const light = new THREE.DirectionalLight(0xffffff, 1);
  light.position.set(1, 1, 1).normalize();
  scene.add(light);
  scene.add(new THREE.AmbientLight(0x888888));

  const testGeo = new THREE.BoxGeometry(20, 20, 20);
  const testMat = new THREE.MeshNormalMaterial();
  const testCube = new THREE.Mesh(testGeo, testMat);
  scene.add(testCube);

  const loader = new STLLoader();
  loader.load('Bathroom-Stuff-v4.stl', geometry => {
    console.log("STL loaded!");
    const material = new THREE.MeshNormalMaterial();
    const mesh = new THREE.Mesh(geometry, material);
    mesh.rotation.x = -Math.PI / 2;
    scene.add(mesh);
  }, undefined, error => {
    console.error("STL load error:", error);
  });

  function animate() {
    requestAnimationFrame(animate);
    controls.update();
    renderer.render(scene, camera);
  }
  animate();
</script>

</body>
</html>
